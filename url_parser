urlList = [
        'http://play.polbox.tv/#/live/1762',
        'http://play.polbox.tv/#/live/1786',
        'http://play.polbox.tv/#/live/1585',
        'http://play.polbox.tv/#/live/1495'
    ]

    # with open('list.txt', 'r') as f:
    #     for i in f:
    #         urlList.append(i)



def check_url(urlList, driver):
    for i in urlList:
        print(i)
        driver.get(i)
        driver.implicitly_wait(2)

        print("\nОткрыта страница Successful")
        channel_name = wait_of_element(xpath='//*[@id="root"]/div/div/div/div[1]/div/div[1]/div/div/div',
                                       driver=driver)  # Находим и запоминаем имя канала (//img/following::div[15])[1]
        first_name = str(channel_name.text)
        print(first_name)

        iBrokenImageCount = 0
        image_list = driver.find_elements(By.XPATH, '//*[@class="archiveCarBlock"]/div')
        res_total = print('Total number of images are ' + str(len(image_list)))

        for img in image_list:
            try:
                response = requests.get(img.get_attribute('background'), stream=True)
                if (response.status_code != 200):
                    res_broken = print(img.get_attribute('outerHTML') + " is broken.")

            except requests.exceptions.MissingSchema:
                print("Encountered MissingSchema Exception")
            except requests.exceptions.InvalidSchema:
                print("Encountered InvalidSchema Exception")
            except:
                print("Encountered Some other Exception")
        print('The page has ' + str(iBrokenImageCount) + ' broken images')
        driver.refresh()
    driver.quit()
    return res_total
